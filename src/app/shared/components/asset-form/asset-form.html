<p-toast position="top-right" />
<form class="p-1 bg-white shadow-sm rounded-md" [formGroup]="assetForm" (ngSubmit)="onSubmit()">
    <div class="input-groups w-full flex flex-col items-center justify-center border-black gap-4 mb-4">
        <div class="input-box w-full">
            <label for="cryptoName" class="block text-sm font-medium text-gray-700">Nom du titre</label>
            @if (f['name'].touched && f['name'].invalid) {
                @if (f['name'].errors?.['required']) {
                    <span class="text-red-500 font-semibold" style="font-size: 0.7rem;">Le nom du titre est requis.</span>
                }
            }
            <input id="cryptoName" type="text" placeholder="Entrer le nom de la crypto" formControlName="name" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" />
        </div>
        <div class="input-box w-full">
            <label for="cryptoName" class="block text-sm font-medium text-gray-700">Quantité du titre</label>
            @if (f['quantity'].touched && f['quantity'].invalid) {
                @if (f['quantity'].errors?.['required']) {
                    <span class="text-red-500 font-semibold" style="font-size: 0.7rem;">La quantité est requise.</span>
                }
                @if (f['quantity'].errors?.['min']) {
                    <span class="text-red-500 font-semibold" style="font-size: 0.7rem;">Un minimum de 150 est requis</span>
                }
            }
            <input id="cryptoName" type="number" min="150" formControlName="quantity" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" />
        </div>
    </div>
    <div class="input-groups w-full flex items-center justify-center gap-4 mb-4">
        <div class="input-box w-1/2">
            <label for="cryptoName" class="block text-sm font-medium text-gray-700">Prix d'achat</label>
            @if (f['buy_price'].touched && f['buy_price'].invalid) {
                @if (f['buy_price'].errors?.['required']) {
                    <span class="text-red-500 font-semibold" style="font-size: 0.7rem;">Le prix d'achat est requis.</span>
                }
                @if (f['buy_price'].errors?.['min']) {
                    <span class="text-red-500 font-semibold" style="font-size: 0.7rem;">Un minimum de 50 est requis</span>
                }
            }
            <input id="cryptoName" type="number" min="50" formControlName="buy_price" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" />
        </div>
        <div class="input-box w-1/2">
            <label for="cryptoName" class="block text-sm font-medium text-gray-700">Prix de vente</label>
            @if (f['sell_price'].touched && f['sell_price'].invalid) {
                @if (f['sell_price'].errors?.['required']) {
                    <span class="text-red-500 font-semibold" style="font-size: 0.7rem;">Le prix de vente est requis.</span>
                }
                @if (f['sell_price'].errors?.['min']) {
                    <span class="text-red-500 font-semibold" style="font-size: 0.7rem;">Un minimum de 60 est requis</span>
                }
            }
            <input id="cryptoName" type="number" min="190" formControlName="sell_price" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" />
        </div>
    </div>
    <div class="input-groups w-full flex items-center justify-center gap-4 mb-4">
        <div class="input-box w-1/2">
            <label for="cryptoName" class="block text-sm font-medium text-gray-700">Taux d'intérêt</label>
            @if (f['interest_rate'].touched && f['interest_rate'].invalid) {
                @if (f['interest_rate'].errors?.['required']) {
                    <span class="text-red-500 font-semibold" style="font-size: 0.7rem;">Le taux d'interêt est requis.</span>
                }
                @if (f['interest_rate'].errors?.['min']) {
                    <span class="text-red-500 font-semibold" style="font-size: 0.7rem;">Un minimum de 5 est requis</span>
                }
            }
            <input id="cryptoName" type="number" min="5" formControlName="interest_rate" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" />
        </div>
        <div class="input-box w-1/2">
            <label for="cryptoName" class="block text-sm font-medium text-gray-700">Date de maturité</label>
            @if (f['maturity_date'].touched && f['maturity_date'].invalid) {
                @if (f['maturity_date'].errors?.['required']) {
                    <span class="text-red-500 font-semibold" style="font-size: 0.7rem;">La date de maturité est requise.</span>
                }
            }
            <input id="cryptoName" type="date" formControlName="maturity_date" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" />
        </div>
    </div>
    <div class="input-groups w-full mb-4">
        <div class="input-box">
            <label for="cryptoName" class="block text-sm font-medium text-gray-700">Marge</label>
            @if (f['marge'].touched && f['marge'].invalid) {
                @if (f['marge'].errors?.['required']) {
                    <span class="text-red-500 font-semibold" style="font-size: 0.7rem;">La marge est requise.</span>
                }
                @if (f['marge'].errors?.['min']) {
                    <span class="text-red-500 font-semibold" style="font-size: 0.7rem;">Un minimum de 3 est requis</span>
                }
            }
            <input id="cryptoName" type="number" min="3" formControlName="marge" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" />
        </div>
    </div>
    <div class="buttons w-full flex items-center justify-between gap-4 mt-4">
        <button type="submit" class="w-full p-2 border border-green-200 rounded-md cursor-pointer hover:bg-green-100 text-green-600">Enregistrer le titre</button>
    </div>
</form>